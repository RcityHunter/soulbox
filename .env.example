# SoulBox Environment Configuration
# Copy this file to .env and fill in your values

# ==================== REQUIRED ====================

# Security - MUST CHANGE IN PRODUCTION (minimum 64 characters)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-minimum-64-chars-required

# ==================== SERVER ====================

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=3000
GRPC_PORT=50051

# Worker Configuration
WORKER_THREADS=4
MAX_CONNECTIONS=10000

# ==================== DATABASE ====================

# SurrealDB Configuration
DATABASE_URL=surrealdb://localhost:8000
DATABASE_NAMESPACE=soulbox
DATABASE_NAME=main
DATABASE_USER=root
DATABASE_PASSWORD=root

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_POOL_SIZE=10

# ==================== CONTAINER ====================

# Container Runtime (docker, podman, firecracker)
CONTAINER_RUNTIME=docker

# Container Pool Configuration
CONTAINER_POOL_MIN_SIZE=5
CONTAINER_POOL_MAX_SIZE=20
CONTAINER_WARMUP_ENABLED=true
CONTAINER_DEFAULT_TIMEOUT=30000

# Container Resource Limits
CONTAINER_MAX_MEMORY_MB=512
CONTAINER_MAX_CPU_CORES=1.0
CONTAINER_MAX_DISK_MB=1024
CONTAINER_MAX_NETWORK_BPS=10485760

# ==================== SECURITY ====================

# Authentication
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRY=900
JWT_REFRESH_TOKEN_EXPIRY=86400

# Rate Limiting
ENABLE_RATE_LIMITING=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST_SIZE=20

# API Keys
ENABLE_API_KEYS=true
API_KEY_PREFIX=sk-soulbox-

# Audit Logging
ENABLE_AUDIT_LOG=true
AUDIT_LOG_LEVEL=info
AUDIT_LOG_PATH=/var/log/soulbox/audit.log

# ==================== MONITORING ====================

# Metrics
ENABLE_METRICS=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=stdout

# Tracing (OpenTelemetry)
ENABLE_TRACING=false
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=soulbox

# ==================== STORAGE ====================

# File System
FILESYSTEM_ROOT=/var/lib/soulbox/files
FILESYSTEM_QUOTA_MB=10240
FILESYSTEM_MAX_FILE_SIZE_MB=100

# Templates
TEMPLATE_PATH=/var/lib/soulbox/templates
TEMPLATE_CACHE_SIZE=100

# ==================== NETWORKING ====================

# Network Configuration
ENABLE_IPV6=false
DNS_SERVERS=8.8.8.8,8.8.4.4
PROXY_URL=

# CORS
CORS_ENABLED=true
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_MAX_AGE=3600

# ==================== DEVELOPMENT ====================

# Development Mode
DEV_MODE=false
DEBUG_ENABLED=false
MOCK_MODE=false

# Testing
TEST_DATABASE_URL=surrealdb://localhost:8001
TEST_REDIS_URL=redis://localhost:6380

# ==================== FEATURES ====================

# Feature Flags
FEATURE_FIRECRACKER_ENABLED=false
FEATURE_BILLING_ENABLED=true
FEATURE_TEMPLATES_ENABLED=true
FEATURE_WEBSOCKET_ENABLED=true

# ==================== EXTERNAL SERVICES ====================

# OpenAI (optional)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-3.5-turbo

# Stripe (optional for billing)
STRIPE_API_KEY=
STRIPE_WEBHOOK_SECRET=

# Email (optional)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@soulbox.io

# ==================== DEPLOYMENT ====================

# Environment
ENVIRONMENT=development
DEPLOYMENT_ID=local
REGION=us-east-1

# Health Check
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5

# Graceful Shutdown
SHUTDOWN_TIMEOUT=30
DRAIN_TIMEOUT=15